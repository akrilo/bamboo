{% extends "base.html" %}

{% block head -%}
{{ super() }}
<link rel="stylesheet" href="{{ url_for('static', filename='css/chat_room.css') }}">
{% endblock head -%}

{% block content -%}

<div id="main-section">
        <div id="conference">
            <div id="hback">
                <button type="button" id="back" onclick="leaveCall()"><a href="{{ url_for('profile') }}"><i class="fa-regular fa-circle-left"></i></a></button>
                <h2>{{ conference.title }}</h2>
            </div>
            <div id="video">
                <div id="video-grid"></div>
            </div>
        </div>
        
    <div id="chat">
        <div id="messages_area">
            <ul id="messages"></ul>
        </div>       
        <div id="input-area">
            <input type="text" id="send_text" placeholder="Введите сообщение..." autocomplete="off">
            <button type="button" id="send_msg" value="Send"><i class="fa-solid fa-paper-plane"></i></button>
        </div>
    </div>
</div>
<script>
    var userId = "{{ userid }}";
    var fullname = "{{ username }}";
    var conf_id = "{{ conference.id_conf }}"
</script>

<script src="https://cdn.socket.io/4.4.0/socket.io.min.js" integrity="sha384-1fOn6VtTq3PWwfsOrk45LnYcGosJwzMHv+Xh/Jx5303FVOXzEnw0EpLv30mtjmlj" crossorigin="anonymous"></script>
<script src="https://unpkg.com/peerjs@1.3.1/dist/peerjs.min.js"></script>
<script src="{{ url_for('static', filename='js/socket.js') }}"></script>

{% endblock content -%}